cmake_minimum_required(VERSION 3.14)
project(onwards)
include_directories(src)
set(CMAKE_CXX_STANDARD 17)
if(CMAKE_CXX_COMPILER_ID MATCHES "GNU")
    add_definitions(-Os -flto -Wundef -W -Wall -Wextra -Wpedantic -Wreorder)
elseif(CMAKE_CXX_COMPILER_ID MATCHES "MSVC")
    add_definitions(-EHsc -nologo -D"NOMINMAX")
else()
    message(FATAL_ERROR "Unsupported compiler: ${CMAKE_CXX_COMPILER_ID}")
endif()
add_executable(genz src/tiers/genz.cc)
add_executable(sendExample example/sendExample.cc)
add_executable(receiveExample example/receiveExample.cc)
if(WIN32)
target_link_libraries(genz wsock32 ws2_32)
target_link_libraries(sendExample wsock32 ws2_32)
target_link_libraries(receiveExample wsock32 ws2_32)
else()
    add_executable(cmwA src/tiers/cmwA.cc)
endif()
